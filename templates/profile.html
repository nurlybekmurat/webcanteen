{% extends "base.html" %}

{% block title %}–õ–∏—á–Ω—ã–π –ö–∞–±–∏–Ω–µ—Ç{% endblock %}

{% block content %}
<h1 class="mb-4">üë§ –õ–∏—á–Ω—ã–π –ö–∞–±–∏–Ω–µ—Ç, {{ current_user.username }}</h1>

<div class="row">
    <div class="col-lg-6 mb-4">
        <div class="card shadow-sm h-100">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0"><i class="bi bi-person-lines-fill"></i> –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
            </div>
            <div class="card-body">
                <form method="POST" action="{{ url_for('profile') }}">
                    <div class="mb-3">
                        <label for="profile-username" class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" class="form-control" id="profile-username" value="{{ current_user.username }}" disabled>
                    </div>
                    <div class="mb-3">
                        <label for="profile-email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="profile-email" name="email" value="{{ current_user.email or '' }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="profile-phone" class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="text" class="form-control" id="profile-phone" name="phone" value="{{ current_user.phone or '' }}">
                    </div>
                    <button type="submit" class="btn btn-success"><i class="bi bi-floppy"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                </form>
            </div>
        </div>
    </div>

    <div class="col-lg-6 mb-4">
        <div class="card shadow-sm h-100">
            <div class="card-header bg-danger text-white">
                <h4 class="mb-0"><i class="bi bi-key"></i> –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h4>
            </div>
            <div class="card-body">
                <form method="POST" action="{{ url_for('change_password') }}">
                    <div class="mb-3">
                        <label for="old_password" class="form-label">–°—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" class="form-control" id="old_password" name="old_password" required>
                    </div>
                    <div class="mb-3">
                        <label for="new_password" class="form-label">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" class="form-control" id="new_password" name="new_password" required>
                    </div>
                    <button type="submit" class="btn btn-danger"><i class="bi bi-shield-lock"></i> –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                </form>
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="card shadow-sm">
            <div class="card-header bg-info text-white">
                <h4 class="mb-0"><i class="bi bi-credit-card"></i> –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã</h4>
            </div>
            <div class="card-body">
                <p class="text-muted">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤–∞—à–∏–º–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ –æ–ø–ª–∞—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø–æ–∫—É–ø–∫–∏.</p>

                <hr>
                <h5>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</h5>
                <form method="POST" action="{{ url_for('payment_methods') }}">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="card_number" class="form-label">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã</label>
                            <input type="text" class="form-control" id="card_number" name="card_number" placeholder="XXXX XXXX XXXX XXXX" required>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="expiry_date" class="form-label">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</label>
                            <input type="text" class="form-control" id="expiry_date" name="expiry_date" placeholder="–ú–ú/–ì–ì" required>
                        </div>
                        <div class="col-md-3 mb-3 d-flex align-items-end">
                            <button type="submit" class="btn btn-info w-100"><i class="bi bi-plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}