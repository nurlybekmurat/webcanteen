{% extends "base.html" %}

{% block title %}–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞{% endblock %}

{% block content %}
<h1 class="mb-4">üõí –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h1>

{% if cart_items %}
<div class="card shadow-lg mb-4">
    <div class="card-body">
        <ul class="list-group list-group-flush">
            {% for item in cart_items %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <h5 class="mb-1">{{ item.name }}</h5>
                    <small class="text-muted">{{ "%.2f"|format(item.price) }} ‚Ç∏ x {{ item.quantity }} —à—Ç.</small>
                </div>
                <span class="badge bg-secondary rounded-pill fs-6">{{ "%.2f"|format(item.subtotal) }} ‚Ç∏</span>
            </li>
            {% endfor %}
        </ul>
    </div>
    <div class="card-footer d-flex justify-content-between align-items-center bg-light">
        <h4 class="mb-0">–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</h4>
        <h3 class="mb-0 text-danger">{{ "%.2f"|format(total_price) }} ‚Ç∏</h3>
    </div>
</div>

<div class="d-flex justify-content-between">
    <form method="POST" action="{{ url_for('clear_cart') }}">
        <button type="submit" class="btn btn-warning"><i class="bi bi-trash"></i> –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
    </form>
    <form method="POST" action="{{ url_for('pay') }}">
        |<button class="btn btn-success btn-lg" style="background-color: var(--secondary-color); border-color: var(--secondary-color);"><i class="bi bi-check-circle"></i> 
            –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
        </button>
    </form>
</div>

{% else %}
<div class="alert alert-info py-4" role="alert">
    <h4 class="alert-heading">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!</h4>
    <p>–ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –æ–±–µ–¥–µ–Ω–Ω—ã–π –∑–∞–∫–∞–∑ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.</p>
    <hr>
    <a href="{{ url_for('index') }}" class="btn btn-info">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –º–µ–Ω—é</a>
</div>
{% endif %}
{% endblock %}